ckeditor+ckfiner实现图片上传

ckeditor下载后随便放，能调用成功,ckfinder最好放到根目录下 /ckfinder

添加Js代码

CKEDITOR.replace('content1',{filebrowserBrowseUrl : '/ckeditor/ckfinder/ckfinder.html',  
            filebrowserImageBrowseUrl : '/ckeditor/ckfinder/ckfinder.html?Type=Images',  
            filebrowserFlashBrowseUrl : '/ckeditor/ckfinder/ckfinder.html?Type=Flash',  
            filebrowserUploadUrl : '/ckeditor/ckfinder/core/connector/php/connector.php?command=QuickUpload&type=Files',   
            filebrowserImageUploadUrl : '/ckeditor/ckfinder/core/connector/php/connector.php?command=QuickUpload&type=Images',  
            filebrowserFlashUploadUrl : '/ckeditor/ckfinder/core/connector/php/connector.php?command=QuickUpload&type=Flash'});		
		});
或者ckeditor/config.js里修改过如下配置

CKEDITOR.editorConfig = function( config ) {
     config.filebrowserBrowseUrl= '/ckfinder/ckfinder.html'; //上传文件时浏览服务文件夹
    config.filebrowserImageBrowseUrl= '/ckfinder/ckfinder.html?Type=Images'; //上传图片时浏览服务文件夹
    config.filebrowserFlashBrowseUrl= '/ckfinder/ckfinder.html?Type=Flash';  //上传Flash时浏览服务文件夹
    config.filebrowserUploadUrl = '/ckfinder/core/connector/php/connector.php?command=QuickUpload&type=Files'; //上传文件按钮(标签)
    config.filebrowserImageUploadUrl= '/ckfinder/core/connector/php/connector.php?command=QuickUpload&type=Images'; //上传图片按钮(标签)
    config.filebrowserFlashUploadUrl= '/ckfinder/core/connector/php/connector.php?command=QuickUpload&type=Flash'; //上传Flash按钮(标签)
    };                   



/ckfinder/config.php修改如下配置


function CheckAuthentication()
{
return true;//默认为false 但是上传会出一个提醒，检查安全设置
}


$baseUrl = '/userfiles/'; //指定上传图片文件的目录 最好放到根目录，方便访问 。也可以设置成url 例如 http://localhost/userfiles/，这样这个地址就会自动追加到上传图片的路径里，形成完整路径


这样就可以了


如果还想参与上传过程处理 可以从
/ckfinder/core/connector/php/php5/CommandHandler/FileUpload.php 中修改
