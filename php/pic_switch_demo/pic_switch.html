<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>图片轮转</title>

<link href="pic_switch.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="jquery-1.9.0.min.js"></script>
<script type="text/javascript">
$(function(){
    i=0;
    //总共记录条数  可以从类型为hidden的input框里获取到 
    banner_num = 3;
    //间隔时间   自己设定
	var banner_change_time = '4000';
    //超过一条记录才轮转
    if(banner_num>0){
		//使用定时器 没间隔3秒调用一次banner_change() 函数
    	banner_timeid = setInterval("banner_change()",banner_change_time);
		//鼠标移到图片或者点上停止轮转
		$('#show_div').mouseover(function(){
			clearInterval(banner_timeid);           
		})
		//移开后轮转继续
		$('#show_div').mouseout(function(){
			banner_timeid = setInterval("banner_change()",banner_change_time);
    	})
    }
});
	/*
	* 第一个ul中：显示选中的li 其他li隐藏
	* 第二个ul中：选中的li 加点，其他不加点
	*/
    function banner_change()
    { 
		//定义banner_content对象
        var banner_content = $('#ContentBannerContentImg li').eq(i);
        banner_content.show();
        banner_content.siblings().hide();
        //获取url的值 可以从类型为hidden的input框里获取到
        var url = "http://img.ljmall.loc";
        //获取第二个ul里的li
        var dotele = $('#show_div').find("ul:last").find("li");
        //选中的li 加点，其他li不加点
        dotele.eq(i).css('background','url(images/banner_img_09.png)');
        for(var j=0;j<=banner_num;j++){
            if(j != i){
                dotele.eq(j).css('background','url(images/banner_img_07.png)');
            }
        }
        //控制循环
        i++;
        if(i == 3){
            i=0;
        }
    }
	/*
	* 当鼠标移上“原点”时 将全局变量i置成接受来的 num参数 并调用banner_change()函数
	*/
    function fn_showdot(num){
        i=num;
        banner_change();
    }
    /*
	* 先模糊再清晰函数
	*/
	 function banner_img_change(name,id){
    //建立对象 注意onload一定要写在对象的后面
    var img = new Image();
    //img标签加载过程中调用函数
    img.onload = function() 
    {	
        document.getElementById(id).src = this.src;
    }
    //加载完成后更换路径
    img.src = name;
}
</script>
</head>
<body>
<div class="info_left">
	<div class="info_left_banner" id="show_div">
        <ul class="info_banner_img" id="ContentBannerContentImg">
        <!-- 需要写成循环 -->
            <li id="show_0"><a href="www.baidu.com" target="_blank"><img id="banner_img_0"  alt="432" src="images/11.jpg" /></a></li>
          <script>
            banner_img_change("images/1.jpg","banner_img_0");
        </script>
            <li id="show_1"><a href="321321" target="_blank"><img  id="banner_img_1"  alt="321" src="images/22.jpg" /></a></li>
        <script>
            banner_img_change("images/2.jpg","banner_img_1");
        </script>
            <li id="show_2"><a href="321" target="_blank"><img  id="banner_img_2"  alt="321" src="images/33.jpg" /></a></li>
        <script>
            banner_img_change("images/3.jpg","banner_img_2");
        </script>
        </ul>
        <ul class="info_banner_dor" >
        <!-- 需要写成循环    并给第一个li 加默认-->
            <li onmouseover="fn_showdot(0)"  class="info_dor_active"></li>
            <li onmouseover="fn_showdot(1)" ></li>
            <li onmouseover="fn_showdot(2)" ></li>
        </ul>

    </div>

</div>
</body>
</html>

